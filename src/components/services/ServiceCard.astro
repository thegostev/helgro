---
// Assets
import { Image } from "astro:assets";
// Fundations
import Text from "@/components/fundations/elements/Text.astro";
import RollingLink from "@/components/fundations/elements/RollingLink.astro";
const { url, title, description, image } = {
  url:
    "/stories/" + Astro.props.post.slug ||
    Astro.props.post.data.title.toLowerCase().replace(/\s+/g, "-"),
  title: Astro.props.post.data.title,
  description: Astro.props.post.data.description,
  image: Astro.props.post.data.image?.url,
};
---

<article
  class="grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-4 py-8 lg:sticky lg:top-0 bg-base-100"
>
  <div class="lg:col-span-3">
    <Text
      tag="h3"
      variant="displaySM"
      class="text-base-900 font-medium tracking-tight lg:text-balance"
    >
      {title}
    </Text>
    <Text tag="p" variant="textSM" class="text-base-600 mt-2 lg:text-balance">
      {description}
    </Text>
    <RollingLink
      href={url}
      title={`Read more: ${title}`}
      aria-label={`Read blog post: ${title}`}
      variant="light"
      hoverText="Read further"
      initialText="Read this article"
    />
  </div>
  <Image
    src={image}
    alt={title}
    width={500}
    height={500}
    loading="eager"
    decoding="async"
    class="w-full h-48 object-cover rounded-xl"
  />
</article>
