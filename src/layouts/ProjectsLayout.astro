---
// Assets
import { Image } from "astro:assets";
// Fundations
import BaseLayout from "@/layouts/BaseLayout.astro";
import Text from "@/components/fundations/elements/Text.astro";
import Wrapper from "@/components/fundations/containers/Wrapper.astro";
const { frontmatter } = Astro.props;
---

<BaseLayout>
  <section>
    <Wrapper variant="wide" class="pt-4 pb-8">
      <div class="relative rounded-3xl h-[calc(100vh-2rem)] overflow-hidden">
        <Image
          width={1440}
          height={1080}
          loading="eager"
          decoding="async"
          alt={frontmatter.cover.alt}
          src={frontmatter.cover.url}
          class="object-cover size-full absolute inset-0 object-center"
        />

        <div class="absolute bottom-4 left-4 right-4 max-w-sm flex flex-col">
          <div class="p-8 bg-base-100 rounded-2xl w-fit">
            <div>
              <Text
                tag="h2"
                variant="textLG"
                class="text-base-600 tracking-tight 2xl:text-2xl text-balance font-medium"
              >
                {frontmatter.title}
              </Text>
              <div class="space-y-1 mt-8">
                <Text tag="p" variant="textSM" class="text-base-500"
                  >{frontmatter.year}</Text
                >
                <Text tag="p" variant="textXS" class="text-base-500 capitalize">
                  {frontmatter.status.replace("-", " ")}
                </Text>
                <Text tag="p" variant="textSM" class="text-base-500">
                  {frontmatter.area}
                </Text>
                <Text tag="p" variant="textSM" class="text-base-500"
                  >{frontmatter.client}</Text
                >
                <Text tag="p" variant="textSM" class="text-base-500">
                  {frontmatter.location}</Text
                >
              </div>
            </div>
          </div>
        </div>
      </div>
    </Wrapper>
  </section>

  <section>
    <Wrapper variant="standard" class="py-12">
      <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
        <div>
          <Wrapper
            variant="prose"
            class="lg:sticky lg:top-24 p-8 rounded-2xl bg-white max-w-sm"
          >
            <slot />
          </Wrapper>
        </div>
        <div class="lg:col-span-2 space-y-8">
          {
            frontmatter.gallery.map((image, index) => (
              <Image
                alt={image.alt || `Project image ${index + 1}`}
                src={image.url}
                width={1440}
                height={1080}
                loading="eager"
                decoding="async"
                class="w-full aspect-square lg:aspect-12/8 rounded-2xl object-center object-cover"
              />
            ))
          }
        </div>
      </div>
    </Wrapper>
  </section>
</BaseLayout>
